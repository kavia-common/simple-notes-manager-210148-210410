{"is_source_file": true, "format": "Java", "description": "This file defines an AuditService class responsible for recording audit trail events within an application. It provides methods to log actions and errors, serializes objects to JSON, and interacts with an audit log repository.", "external_files": ["com.fasterxml.jackson.core.JsonProcessingException", "com.fasterxml.jackson.databind.ObjectMapper", "org.springframework.stereotype.Service", "org.springframework.transaction.annotation.Transactional"], "external_methods": ["mapper.writeValueAsString", "repository.save"], "published": ["record", "recordError"], "classes": [{"name": "AuditService", "description": "Service class for recording audit trail events, such as actions and errors, with support for serialization and transactional persistence."}], "methods": [{"name": "record", "description": "Logs an audit event with optional before and after states, handling JSON serialization and persisting via repository."}, {"name": "recordError", "description": "Logs an error audit event with detailed error information."}, {"name": "toJsonSafe", "description": "Converts an object to JSON string, handling exceptions gracefully by returning a failure indicator."}], "calls": ["mapper.writeValueAsString", "repository.save"], "search-terms": ["AuditService", "record", "recordError", "audit trail", "JSON serialization", "Spring @Service", "audit logging", "transactional"], "state": 2, "file_id": 15, "knowledge_revision": 33, "git_revision": "", "hash": "5053f49a672361068dd2324fa14bd43f", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/main/java/com/example/notes/audit/AuditService.java", "revision_history": [{"33": ""}]}