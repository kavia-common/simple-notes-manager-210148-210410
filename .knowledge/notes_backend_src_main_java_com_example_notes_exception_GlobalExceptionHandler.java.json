{"is_source_file": true, "format": "Java", "description": "This Java source file defines a Spring Boot REST controller advice class 'GlobalExceptionHandler' that manages global exception handling for a notes management backend. It captures various exceptions such as NotFoundException, BusinessException, validation errors, and unexpected errors, responding with structured ApiError responses and logging technical errors via AuditService.", "external_files": ["com/example/notes/audit/AuditService.java", "com/example/notes/security/RequestContext.java", "org.springframework.http.ResponseEntity.java", "org.springframework.web.bind.annotation.ExceptionHandler.java", "org.springframework.web.bind.annotation.RestControllerAdvice.java", "jakarta.servlet.http.HttpServletRequest.java"], "external_methods": ["auditService.recordError()", "requestContext.getCurrentUserId()", "HttpServletRequest.getRequestURI()", "ResponseEntity.status()", "ResponseEntity.body()"], "published": ["GlobalExceptionHandler"], "classes": [{"name": "GlobalExceptionHandler", "description": "A Spring Boot advice class that provides centralized exception handling for the REST controllers, handling specific exceptions and providing structured API error responses while logging errors."}], "methods": [{"name": "handleNotFound", "description": "Handles NotFoundException and returns a 404 ApiError response."}, {"name": "handleBusiness", "description": "Handles BusinessException and returns a 400 ApiError response."}, {"name": "handleValidation", "description": "Handles validation errors from MethodArgumentNotValidException, returning a 400 ApiError with validation details."}, {"name": "handleTechnical", "description": "Handles unexpected exceptions, logs the error via auditService, and returns a 500 ApiError indicating an internal error."}], "calls": ["auditService.recordError()", "requestContext.getCurrentUserId()", "req.getRequestURI()", "ResponseEntity.status()", "ResponseEntity.body()"], "search-terms": ["GlobalExceptionHandler", "RestControllerAdvice", "ExceptionHandler", "ApiError", "UnexpectedRollbackException", "MethodArgumentNotValidException", "auditService", "RequestContext"], "state": 2, "file_id": 26, "knowledge_revision": 53, "git_revision": "", "hash": "cfcb4d8593aa0d07e9bebbd72cca9ce7", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/main/java/com/example/notes/exception/GlobalExceptionHandler.java", "revision_history": [{"53": ""}]}